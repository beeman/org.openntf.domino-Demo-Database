<?xml version="1.0" encoding="UTF-8"?>
<xp:view xmlns:xp="http://www.ibm.com/xsp/core" xmlns:xc="http://www.ibm.com/xsp/custom">

	<xc:ccLayoutOneUI>
		<xp:this.facets>
			<xp:div xp:key="facet_1">
				<xp:image url="/.ibmxspres/domino/oneuiv2/images/iconError48.png"
					id="image2" alt="Error" style="float:left">
				</xp:image>
				<h1>I'm sorry, a problem has occurred</h1>
				<p>
					An error occurred during the processing. Click the refresh button to
					reload the page.
				</p>
				<xp:div styleClass="lotusInfoBox">
					If you are yet to use the database, have you completed the required setup steps?<br/>
					You must either:
					<ol><li>Install org.openntf.domino on your server and Designer client. This is the preferred
					option because the library will then be available for all applications on the server.
					To do this:
					<!-- TODO: Create this agent -->
					<ul><li>Sign the application and run the "Copy org.openntf.domino jar" agent with administrative
					access to add the jar to your Designer client's and Domino server's jvm/lib/ext</li>
					<li>Build the application, ensuring you no longer get any errors</li>
					<li>Install the update site project in a valid Update Site database on the server you are
					running the application on. This will allow the jar to be used in XPages.</li>
					<li>Run the console command <i>restart task http</i> to *fully* reload the HTTP task</li></ul></li>
					<li>Add the org.openntf.domino jar file to the WebContent\WEB-INF\lib folder of this
					application. Right-click and add to the Build Path, then rebuild the application.</li></ol>
					Note, with option two the library will not be accessible for any other NSF on the server
					and Java tests will not run.
				</xp:div>
				<button class="mainBtn" type="button" onclick="window.location.reload()">Reload Page</button>
				<br />
				<br />
				<a href="#" id="expandLink"
					onclick="dojo.style('#{id:errMsg}','display','block');
						dojo.style('expandLink','display','none');dojo.style('collapseLink','display','block');">
					Show detailed error</a>
				<a href="#" id="collapseLink" style="display:none"
					onclick="dojo.style('#{id:errMsg}','display','none');
						dojo.style('expandLink','display','block');dojo.style('collapseLink','display','none');">
					Hide detailed error</a>
				<br />
				<xp:text value="#{requestScope.error}" escape="true" id="errMsg"
					style="display:none">
				</xp:text>
			</xp:div>
		</xp:this.facets>
	</xc:ccLayoutOneUI>
</xp:view>
